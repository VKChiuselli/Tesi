<?xml version="1.0" encoding="UTF-8"?>
<!-- 
<web-app xmlns="http://java.sun.com/xml/ns/j2ee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt" 	
	xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
	version="2.4">
 -->
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fmt="http://java.sun.com/jsp/jstl/fmt" xmlns:jsp="http://java.sun.com/xml/ns/javaee/jsp" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">
  <display-name>Open GEST</display-name>
  <context-param>
    <param-name>i18n.messages</param-name>
    <param-value>en_US</param-value>
  </context-param>
  <context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>i18n.messages</param-value>
  </context-param>
  <servlet>
    <description>Servlet per il caricamento delle configurazioni iniziali</description>
    <display-name>ServiceLoaderServlet</display-name>
    <servlet-name>ServiceLoaderServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.ServiceLoaderServlet</servlet-class>
    <init-param>
      <description>Parametro per il recupero della modalità di caricamento del DataSource</description>
      <param-name>CONTEXT_DB_LOAD_MODE_DATASOURCE</param-name>
      <param-value>DATASOURCE</param-value>
    </init-param>
    <init-param>
      <description>Parametro per il recupero della modalità di caricamento JDBC</description>
      <param-name>CONTEXT_DB_LOAD_MODE_JDBC</param-name>
      <param-value>JDBC</param-value>
    </init-param>
    
 	<init-param>
 		<description>Parametro per il driver da caricare</description>
		<param-name>PARAM_DATABASE_DRIVER</param-name>
     	<param-value>com.mysql.jdbc.Driver</param-value>
 	</init-param>		
	<init-param>
		 <description>Parametro per l'URL  del database</description>
		<param-name>PARAM_DATABASE_URL</param-name>
     	<param-value>jdbc:mysql://localhost:3306/opengest?autoReconnect=true</param-value>
 	</init-param>		
	<init-param>
		 <description>Parametro per il recupero del datasource</description>
		<param-name>PARAM_DATABASE_DATASOURCE</param-name>
     	<param-value>java:comp/env/jdbc/opengestdb-ds</param-value>
 	</init-param>	
	<init-param>
 		<description>Parametro per il recupero della username del database</description>	
		<param-name>PARAM_DATABASE_USERNAME</param-name>
     	<param-value>root</param-value>
 	</init-param>	
	<init-param>
 		<description>Parametro per il recupero della password del database</description>	
		<param-name>PARAM_DATABASE_PASSWORD</param-name>
     	<param-value>root</param-value>
 	</init-param>	
	<init-param>
		<description>Parametro per il recupero della modalità di connessione al database (valori ammessi: JDBC, DATASOURCE)</description>
		<param-name>PARAM_DATABASE_START_MODE</param-name>
     	<param-value>JDBC</param-value>   
 	</init-param>	 
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet>
    <description>Servlet per il login applicativo</description>
    <display-name>LoginServlet</display-name>
    <servlet-name>LoginServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.login.LoginServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per il login applicativo</description>
    <display-name>MenuServlet</display-name>
    <servlet-name>MenuServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.login.MenuServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la lista degli utenti</description>
    <display-name>UserListServlet</display-name>
    <servlet-name>UserListServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.users.UserListServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la gestione del singolo utente</description>
    <display-name>UserServlet</display-name>
    <servlet-name>UserServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.users.UserServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la lista dei prodotti</description>
    <display-name>ProductListServlet</display-name>
    <servlet-name>ProductListServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.products.ProductListServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la gestione del singolo prodotto</description>
    <display-name>ProductServlet</display-name>
    <servlet-name>ProductServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.products.ProductServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la lista dei clienti</description>
    <display-name>CustomerListServlet</display-name>
    <servlet-name>CustomerListServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.customers.CustomerListServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la gestione del singolo cliente</description>
    <display-name>CustomerServlet</display-name>
    <servlet-name>CustomerServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.customers.CustomerServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la lista degli ordini</description>
    <display-name>OrderListServlet</display-name>
    <servlet-name>OrderListServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.orders.OrderListServlet</servlet-class>
  </servlet>
  <servlet>
    <description>Servlet per la gestione del singolo ordine</description>
    <display-name>OrderServlet</display-name>
    <servlet-name>OrderServlet</servlet-name>
    <servlet-class>com.opengest.crm.servlet.orders.OrderServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/initlogin</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/login</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/logout</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>MenuServlet</servlet-name>
    <url-pattern>/usersMenu</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>MenuServlet</servlet-name>
    <url-pattern>/productsMenu</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>MenuServlet</servlet-name>
    <url-pattern>/customersMenu</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>MenuServlet</servlet-name>
    <url-pattern>/ordersMenu</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ProductListServlet</servlet-name>
    <url-pattern>/products/list</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ProductServlet</servlet-name>
    <url-pattern>/products/delete/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ProductServlet</servlet-name>
    <url-pattern>/products/update/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ProductServlet</servlet-name>
    <url-pattern>/products/updateinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ProductServlet</servlet-name>
    <url-pattern>/products/createinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ProductServlet</servlet-name>
    <url-pattern>/products/create/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>CustomerListServlet</servlet-name>
    <url-pattern>/customers/list</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>CustomerServlet</servlet-name>
    <url-pattern>/customers/delete/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>CustomerServlet</servlet-name>
    <url-pattern>/customers/update/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>CustomerServlet</servlet-name>
    <url-pattern>/customers/updateinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>CustomerServlet</servlet-name>
    <url-pattern>/customers/createinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>CustomerServlet</servlet-name>
    <url-pattern>/customers/create/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>UserListServlet</servlet-name>
    <url-pattern>/users/list</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>UserServlet</servlet-name>
    <url-pattern>/users/delete/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>UserServlet</servlet-name>
    <url-pattern>/users/createinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>UserServlet</servlet-name>
    <url-pattern>/users/create/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>UserServlet</servlet-name>
    <url-pattern>/users/update/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>UserServlet</servlet-name>
    <url-pattern>/users/updateinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>OrderListServlet</servlet-name>
    <url-pattern>/orders/list</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>OrderServlet</servlet-name>
    <url-pattern>/orders/delete/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>OrderServlet</servlet-name>
    <url-pattern>/orders/createinit/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>OrderServlet</servlet-name>
    <url-pattern>/orders/create/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>OrderServlet</servlet-name>
    <url-pattern>/orders/update/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>OrderServlet</servlet-name>
    <url-pattern>/orders/updateinit/*</url-pattern>
  </servlet-mapping>
  <filter>
    <filter-name>ControllerFilter</filter-name>
    <filter-class>com.opengest.crm.web.filters.FrontControllerFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>ControllerFilter</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>REQUEST</dispatcher>
    <dispatcher>ERROR</dispatcher>
    <dispatcher>INCLUDE</dispatcher>
  </filter-mapping>
  <jsp-config>
    <taglib>
      <taglib-uri>http://java.sun.com/jsp/jstl/core</taglib-uri>
      <taglib-location>/WEB-INF/tld/c.tld</taglib-location>
    </taglib>
    <taglib>
      <taglib-uri>http://java.sun.com/jstl/core_rt</taglib-uri>
      <taglib-location>/WEB-INF/tld/c-rt.tld</taglib-location>
    </taglib>
    <taglib>
      <taglib-uri>http://java.sun.com/jstl/fmt</taglib-uri>
      <taglib-location>/WEB-INF/tld/fmt.tld</taglib-location>
    </taglib>
    <taglib>
      <taglib-uri>http://java.sun.com/jstl/fmt_rt</taglib-uri>
      <taglib-location>/WEB-INF/tld/fmt-rt.tld</taglib-location>
    </taglib>
    <taglib>
      <taglib-uri>http://java.sun.com/jstl/xml</taglib-uri>
      <taglib-location>/WEB-INF/tld/x.tld</taglib-location>
    </taglib>
  </jsp-config>
  <welcome-file-list>
    <welcome-file>/WEB-INF/pages/login/login.jsp</welcome-file>
  </welcome-file-list>
</web-app>